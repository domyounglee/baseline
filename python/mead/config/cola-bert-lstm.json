{
    "version": 2,
    "task": "classify",
    "batchsz": 50,
    "basedir": "./cola-lstm",
    "modules": ["embed_bert"],
    "features":
    [
	{
	    "name": "bert",
	    "vectorizer": {
		"type": "wordpiece1d",
		"vocab_file": "/data/bert/uncased_L-12_H-768_A-12/vocab.txt"
	    },
	    "embeddings": {
		"type": "bert",
		"dsz": 3072,
		"vocab_file": "/data/bert/uncased_L-12_H-768_A-12/vocab.txt",
		"bert_config": "/data/bert/uncased_L-12_H-768_A-12/bert_config.json",
		"embed_file": "/data/bert/uncased_L-12_H-768_A-12/bert_model.ckpt",
                "operator": "concat",
                "layers": [-1,-2, -3, -4]
	    }
	}
    ],
    "preproc": {
	"mxlen": 100,
    "rev": false,
	"clean": true
    },
    "backend": "tensorflow",
    "dataset": "cola-tok",
    "loader": {
	"reader_type": "default"
    },
    "unif": 0.25,
    "model": {
	"model_type": "lstm",
	"hsz": 200,
	"dropout": 0.5,
	"finetune": true
    },
    "train": {
	"epochs": 40,
	"optim": "adamw",
	"eta": 0.00005,
        "weight_decay": 1.0e-5,
	"early_stopping_metric": "f1",
      "verbose": {
      "console": true,
      "file": "cola-cm.csv"
    }
    }
}
